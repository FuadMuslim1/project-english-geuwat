<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vowel Sounds - Learning English Geuwat</title>
    <link rel="stylesheet" href="../styles/global.css">
    <link rel="stylesheet" href="../styles/button.css">
    <link rel="stylesheet" href="../styles/layout.css">
    <style>
        /* CSS INJEKSI untuk Desain Elegan */
        :root {
            --color-primary: #1E3A8A;   /* Deep Blue */
            --color-secondary: #F59E0B; /* Amber */
            --color-background: #F9FAFB; 
            --color-card: #FFFFFF;      
            --color-danger: #DC2626;
            --border-radius: 8px;
            --box-shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-background);
            color: var(--color-primary);
            margin: 0;
            padding: 0;
        }

        /* Header Styles */
        header {
            background-color: var(--color-primary);
            color: var(--color-card);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        header h2 {
            margin: 0;
            font-size: 1.5em;
            font-weight: 700;
        }
        
        /* Symbol List Grid Styles (Symbol Items) */
        .symbol-list-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .symbol-item {
            background-color: var(--color-card);
            padding: 20px 10px;
            text-align: center;
            border-radius: var(--border-radius);
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s;
        }
        .symbol-item:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .symbol-link {
            font-size: 4em; 
            font-weight: 700;
            color: var(--color-secondary); /* Amber untuk penekanan */
            text-decoration: none;
            display: block;
        }
        /* General Layout */
        .container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }
        /* Style untuk tombol exercise */
        .btn-primary {
            background-color: var(--color-secondary);
            color: var(--color-card);
            padding: 10px 20px;
            border-radius: var(--border-radius);
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        .btn-primary:hover {
            background-color: #D97706;
        }
    </style>
</head>
<body>
    <header>
        <h2 id="header-title">Vowel Sounds</h2>
        <div>
            <button class="btn header-btn btn-primary" onclick="goBack()">BACK</button>
            <button class="btn header-btn btn-danger" onclick="logout()">LOGOUT</button>
        </div>
    </header>

    <div class="container">
        <p style="color: #4B5563;">Klik simbol untuk melihat contoh kata dan mendengarkan pengucapan.</p>
        <div class="symbol-list-grid" id="symbol-grid-container">
            </div>

        <div style="margin-top: 40px; text-align: center;">
            <button id="exercise-btn" class="btn btn-primary" 
                    style="width: 100%; max-width: 400px; padding: 15px; font-size: 1.2em;">
                Exercise Menu
            </button>
        </div>
    </div>

    <script type="module" src="../js/router.js"></script>
    <script type="module" src="../js/auth.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const category = urlParams.get('category'); // Membaca parameter 'category'
            const gridContainer = document.getElementById('symbol-grid-container');
            const headerTitle = document.getElementById('header-title');
            const exerciseBtn = document.getElementById('exercise-btn');
            
            let symbols = [];

            // 1. Definisikan semua simbol dan kategorinya
            // Asumsi file symbols berada di folder ../symbols/
            const allVowels = [
                // LAX VOWELS (Vokal Pendek/Santai)
                { symbol: 'ɪ', category: 'lax', file: '../symbols/i-short.html', exercise_path: '../exercise/exercise-vowel-lax.html' },
                { symbol: 'ʊ', category: 'lax', file: '../symbols/u-short.html', exercise_path: '../exercise/exercise-vowel-lax.html' },
                { symbol: 'e', category: 'lax', file: '../symbols/e-vowel.html', exercise_path: '../exercise/exercise-vowel-lax.html' },
                { symbol: 'ə', category: 'lax', file: '../symbols/schwa.html', exercise_path: '../exercise/exercise-vowel-lax.html' },
                { symbol: 'ʌ', category: 'lax', file: '../symbols/wedge.html', exercise_path: '../exercise/exercise-vowel-lax.html' },
                { symbol: 'æ', category: 'lax', file: '../symbols/ash.html', exercise_path: '../exercise/exercise-vowel-lax.html' },
                { symbol: 'ɒ', category: 'lax', file: '../symbols/a-short.html', exercise_path: '../exercise/exercise-vowel-lax.html' },
                
                // TENSE VOWELS (Vokal Panjang/Tegang)
                { symbol: 'iː', category: 'tense', file: '../symbols/i-long.html', exercise_path: '../exercise/exercise-vowel-tense.html' },
                { symbol: 'uː', category: 'tense', file: '../symbols/u-long.html', exercise_path: '../exercise/exercise-vowel-tense.html' },
                { symbol: 'ɜː', category: 'tense', file: '../symbols/er-vowel.html', exercise_path: '../exercise/exercise-vowel-tense.html' },
                { symbol: 'ɔː', category: 'tense', file: '../symbols/o-long.html', exercise_path: '../exercise/exercise-vowel-tense.html' },
                { symbol: 'ɑː', category: 'tense', file: '../symbols/a-long.html', exercise_path: '../exercise/exercise-vowel-tense.html' },
            ];
            
            let exercisePath = '../exercise/exercise-vowel.html'; // Default

            if (category === 'lax') {
                symbols = allVowels.filter(v => v.category === 'lax');
                headerTitle.textContent = 'Lax Vowel Sounds';
                exerciseBtn.textContent = 'Exercise Menu: Lax Vowels';
                exercisePath = '../exercise/exercise-vowel-lax.html';
            } else if (category === 'tense') {
                symbols = allVowels.filter(v => v.category === 'tense');
                headerTitle.textContent = 'Tense Vowel Sounds';
                exerciseBtn.textContent = 'Exercise Menu: Tense Vowels';
                exercisePath = '../exercise/exercise-vowel-tense.html';
            } else {
                // Default: Tampilkan semua jika parameter hilang (sebaiknya jangan terjadi)
                symbols = allVowels;
                headerTitle.textContent = 'Semua Vowel Sounds';
                exerciseBtn.textContent = 'Exercise Menu: Semua Vowels';
                exercisePath = '../exercise/exercise-vowel.html';
            }

            // Atur navigasi tombol exercise
            exerciseBtn.onclick = () => {
                window.location.href = exercisePath;
            };

            // 2. Render simbol ke grid
            symbols.forEach(vowel => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'symbol-item';
                
                // Pastikan parameter symbol terkirim
                const symbolLink = `${vowel.file}?symbol=${vowel.symbol}`; 

                itemDiv.innerHTML = `
                    <a href="${symbolLink}" class="symbol-link">/${vowel.symbol}/</a>
                `;
                gridContainer.appendChild(itemDiv);
            });
        });
    </script>
    </body>
</html>